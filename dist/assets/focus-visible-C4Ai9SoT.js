/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */
const e="ion-focused",t=["Tab","ArrowDown","Space","Escape"," ","Shift","Enter","ArrowLeft","ArrowRight","ArrowUp","Home","End"],o=o=>{let s=[],n=!0;const r=o?o.shadowRoot:document,c=o||document.body,d=t=>{s.forEach((t=>t.classList.remove(e))),t.forEach((t=>t.classList.add(e))),s=t},i=()=>{n=!1,d([])},a=e=>{n=t.includes(e.key),n||d([])},v=e=>{if(n&&void 0!==e.composedPath){const t=e.composedPath().filter((e=>!!e.classList&&e.classList.contains("ion-focusable")));d(t)}},u=()=>{r.activeElement===c&&d([])};r.addEventListener("keydown",a),r.addEventListener("focusin",v),r.addEventListener("focusout",u),r.addEventListener("touchstart",i,{passive:!0}),r.addEventListener("mousedown",i);return{destroy:()=>{r.removeEventListener("keydown",a),r.removeEventListener("focusin",v),r.removeEventListener("focusout",u),r.removeEventListener("touchstart",i),r.removeEventListener("mousedown",i)},setFocus:d}};export{o as startFocusVisible};
